(() => {
var exports = {};
exports.id = 366;
exports.ids = [366];
exports.modules = {

/***/ 8038:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react");

/***/ }),

/***/ 8704:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-dom/server-rendering-stub");

/***/ }),

/***/ 7897:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react-server-dom-webpack/client");

/***/ }),

/***/ 6786:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/react/jsx-runtime");

/***/ }),

/***/ 1844:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/get-segment-param");

/***/ }),

/***/ 6624:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/future/helpers/interception-routes");

/***/ }),

/***/ 7085:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/app-router-context");

/***/ }),

/***/ 199:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hash");

/***/ }),

/***/ 9569:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/hooks-client-context");

/***/ }),

/***/ 7160:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router-context");

/***/ }),

/***/ 893:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/add-path-prefix");

/***/ }),

/***/ 2336:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/format-url");

/***/ }),

/***/ 4490:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/handle-smooth-scroll");

/***/ }),

/***/ 8735:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-bot");

/***/ }),

/***/ 120:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/is-local-url");

/***/ }),

/***/ 8231:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/parse-path");

/***/ }),

/***/ 3750:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/remove-trailing-slash");

/***/ }),

/***/ 982:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/resolve-href");

/***/ }),

/***/ 9618:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/server-inserted-html");

/***/ }),

/***/ 8423:
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/utils");

/***/ }),

/***/ 1017:
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ 7310:
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ 291:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   GlobalError: () => (/* reexport default from dynamic */ next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0___default.a),
/* harmony export */   __next_app__: () => (/* binding */ __next_app__),
/* harmony export */   originalPathname: () => (/* binding */ originalPathname),
/* harmony export */   pages: () => (/* binding */ pages),
/* harmony export */   tree: () => (/* binding */ tree)
/* harmony export */ });
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2673);
/* harmony import */ var next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_client_components_error_boundary__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9419);
/* harmony import */ var next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__) if(["default","tree","pages","GlobalError","originalPathname","__next_app__"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => next_dist_server_app_render_entry_base__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);

    const tree = {
        children: [
        '',
        {
        children: [
        '(main)',
        {
        children: [
        'hcx',
        {
        children: [
        'builder',
        {
        children: [
        '4-service-mesh',
        {
        children: ['__PAGE__', {}, {
          page: [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 9657)), "/Users/bravgj/Downloads/hcx-builder/app/(main)/hcx/builder/4-service-mesh/page.tsx"],
          
        }]
      },
        {
          
          
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 2745)), "/Users/bravgj/Downloads/hcx-builder/app/(main)/hcx/builder/layout.tsx"],
          
        }
      ]
      },
        {
          
          
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 6858)), "/Users/bravgj/Downloads/hcx-builder/app/(main)/layout.tsx"],
          metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 3174))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
        }
      ]
      },
        {
          'layout': [() => Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 729)), "/Users/bravgj/Downloads/hcx-builder/app/layout.tsx"],
          metadata: {
    icon: [(async (props) => (await Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 3174))).default(props))],
    apple: [],
    openGraph: [],
    twitter: [],
    manifest: undefined
  }
        }
      ]
      }.children;
    const pages = ["/Users/bravgj/Downloads/hcx-builder/app/(main)/hcx/builder/4-service-mesh/page.tsx"];
    
    const originalPathname = "/(main)/hcx/builder/4-service-mesh/page"
    const __next_app__ = {
      require: __webpack_require__,
      // all modules are in the entry chunk, so we never actually need to load chunks in webpack
      loadChunk: () => Promise.resolve()
    }

    
  

/***/ }),

/***/ 5597:
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

Promise.resolve(/* import() eager */).then(__webpack_require__.bind(__webpack_require__, 9317))

/***/ }),

/***/ 9317:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ page)
});

// EXTERNAL MODULE: external "next/dist/compiled/react/jsx-runtime"
var jsx_runtime_ = __webpack_require__(6786);
// EXTERNAL MODULE: external "next/dist/compiled/react"
var react_ = __webpack_require__(8038);
// EXTERNAL MODULE: ./app/project.tsx
var project = __webpack_require__(9941);
// EXTERNAL MODULE: ./node_modules/primereact/datatable/datatable.cjs.js
var datatable_cjs = __webpack_require__(4760);
// EXTERNAL MODULE: ./node_modules/primereact/column/column.cjs.js
var column_cjs = __webpack_require__(9210);
// EXTERNAL MODULE: ./node_modules/primereact/button/button.cjs.js
var button_cjs = __webpack_require__(8176);
// EXTERNAL MODULE: ./node_modules/primereact/confirmdialog/confirmdialog.cjs.js
var confirmdialog_cjs = __webpack_require__(2558);
// EXTERNAL MODULE: ./node_modules/primereact/dialog/dialog.cjs.js
var dialog_cjs = __webpack_require__(6120);
// EXTERNAL MODULE: ./node_modules/primereact/tabview/tabview.cjs.js
var tabview_cjs = __webpack_require__(1184);
;// CONCATENATED MODULE: ./types/index.ts
const NetworkTypes = {
    DEDICATED: "dedicated",
    MANAGEMENT: "management",
    VMOTION: "vmotion"
};
const NetworkProfiles = {
    MANAGEMENT: "management",
    VMOTION: "vmotion",
    REPLICATION: "replication",
    UPLINK: "uplink"
};

// EXTERNAL MODULE: ./node_modules/primereact/inputtext/inputtext.cjs.js
var inputtext_cjs = __webpack_require__(1785);
// EXTERNAL MODULE: ./node_modules/primereact/dropdown/dropdown.cjs.js
var dropdown_cjs = __webpack_require__(1042);
// EXTERNAL MODULE: ./node_modules/primereact/multiselect/multiselect.cjs.js
var multiselect_cjs = __webpack_require__(1326);
// EXTERNAL MODULE: ./node_modules/primereact/chips/chips.cjs.js
var chips_cjs = __webpack_require__(8646);
;// CONCATENATED MODULE: ./components/ServiceMeshNew/GeneralTab.tsx





 // Add this import

const GeneralTab = ({ mesh, onMeshChange })=>{
    const { hcxProject } = (0,react_.useContext)(project.ProjectContext);
    const [availableClusters, setAvailableClusters] = (0,react_.useState)([]);
    const [vCenterOptions, setVCenterOptions] = (0,react_.useState)([]);
    (0,react_.useEffect)(()=>{
        if (hcxProject?.vcenters) {
            const options = hcxProject.vcenters.map((vc)=>({
                    label: vc.vcenter_name,
                    value: vc.vcenter_name
                }));
            setVCenterOptions(options);
        }
    }, [
        hcxProject
    ]);
    (0,react_.useEffect)(()=>{
        if (mesh.vcenter_name && hcxProject?.vcenters) {
            const selectedVCenter = hcxProject.vcenters.find((vc)=>vc.vcenter_name === mesh.vcenter_name);
            if (selectedVCenter) {
                setAvailableClusters(selectedVCenter.vcenter_clusters || []);
            }
        } else {
            setAvailableClusters([]);
        }
    }, [
        mesh.vcenter_name,
        hcxProject
    ]);
    const clusterOptions = availableClusters.map((cluster)=>({
            label: cluster,
            value: cluster
        }));
    const handleVCenterChange = (value)=>{
        onMeshChange("vcenter_name", value);
        onMeshChange("clusters_services", []);
        onMeshChange("clusters_deployments", []);
        onMeshChange("storage", []);
        onMeshChange("pool", []);
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "grid",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "col-12 md:col-6",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "field",
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                            htmlFor: "name",
                            className: "font-bold",
                            children: "Service Mesh Name"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                            id: "name",
                            value: mesh.name,
                            onChange: (e)=>onMeshChange("name", e.target.value),
                            className: "w-full",
                            placeholder: "Enter service mesh name"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "col-12 md:col-6",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "field",
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                            htmlFor: "vcenter",
                            className: "font-bold",
                            children: "vCenter"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(dropdown_cjs.Dropdown, {
                            id: "vcenter",
                            value: mesh.vcenter_name,
                            onChange: (e)=>handleVCenterChange(e.value),
                            options: vCenterOptions,
                            className: "w-full",
                            placeholder: "Select vCenter"
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "col-12 md:col-6",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "field",
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                            className: "font-bold",
                            children: "Service Clusters"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(multiselect_cjs/* MultiSelect */.N, {
                            value: mesh.clusters_services,
                            onChange: (e)=>onMeshChange("clusters_services", e.value),
                            options: clusterOptions,
                            placeholder: "Select service clusters",
                            className: "w-full",
                            disabled: !mesh.vcenter_name
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "col-12 md:col-6",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "field",
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                            className: "font-bold",
                            children: "Deployment Clusters"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(multiselect_cjs/* MultiSelect */.N, {
                            value: mesh.clusters_deployments,
                            onChange: (e)=>onMeshChange("clusters_deployments", e.value),
                            options: clusterOptions,
                            placeholder: "Select deployment clusters",
                            className: "w-full",
                            disabled: !mesh.vcenter_name
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "col-12 md:col-6",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "field",
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                            className: "font-bold",
                            children: "Storage"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(chips_cjs/* Chips */.c, {
                            value: mesh.storage,
                            onChange: (e)=>onMeshChange("storage", e.value),
                            placeholder: "Add storage",
                            className: "w-full",
                            disabled: !mesh.vcenter_name
                        })
                    ]
                })
            }),
            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                className: "col-12 md:col-6",
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "field",
                    children: [
                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                            className: "font-bold",
                            children: "Resource Pool"
                        }),
                        /*#__PURE__*/ jsx_runtime_.jsx(chips_cjs/* Chips */.c, {
                            value: mesh.pool,
                            onChange: (e)=>onMeshChange("pool", e.value),
                            placeholder: "Add resource pool",
                            className: "w-full",
                            disabled: !mesh.vcenter_name
                        })
                    ]
                })
            })
        ]
    });
};
/* harmony default export */ const ServiceMeshNew_GeneralTab = (GeneralTab);

// EXTERNAL MODULE: ./node_modules/primereact/checkbox/checkbox.cjs.js
var checkbox_cjs = __webpack_require__(7636);
;// CONCATENATED MODULE: ./components/ServiceMeshNew/HCXServicesTab.tsx



const HCXServicesTab = ({ mesh, onMeshChange })=>{
    return /*#__PURE__*/ jsx_runtime_.jsx("div", {
        className: "field",
        children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
            className: "flex flex-column gap-4",
            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "flex flex-column gap-3",
                children: [
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex flex-column",
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: "flex align-items-center",
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx(checkbox_cjs/* Checkbox */.X, {
                                        inputId: "hcx_ix",
                                        checked: true,
                                        disabled: true
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                        htmlFor: "hcx_ix",
                                        className: "ml-2",
                                        children: "HCX-IX Enabled"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("small", {
                                className: "text-gray-500 ml-6",
                                children: "Interconnect service is enabled by default for all service meshes"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex flex-column",
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: "flex align-items-center",
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx(checkbox_cjs/* Checkbox */.X, {
                                        inputId: "wo_enabled",
                                        checked: mesh.wo_enabled,
                                        onChange: (e)=>onMeshChange("wo_enabled", e.checked)
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                        htmlFor: "wo_enabled",
                                        className: "ml-2",
                                        children: "Enable WO"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("small", {
                                className: "text-gray-500 ml-6",
                                children: "WAN Optimization service (recommended for connections below 1Gbps)"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "flex flex-column",
                        children: [
                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: "flex align-items-center",
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx(checkbox_cjs/* Checkbox */.X, {
                                        inputId: "ne_enabled",
                                        checked: mesh.ne_enabled,
                                        onChange: (e)=>onMeshChange("ne_enabled", e.checked)
                                    }),
                                    /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                        htmlFor: "ne_enabled",
                                        className: "ml-2",
                                        children: "Enable NE"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("small", {
                                className: "text-gray-500 ml-6",
                                children: "Network Extension service for stretched L2 networks"
                            })
                        ]
                    })
                ]
            })
        })
    });
};
/* harmony default export */ const ServiceMeshNew_HCXServicesTab = (HCXServicesTab);

// EXTERNAL MODULE: ./node_modules/primereact/inputnumber/inputnumber.cjs.js
var inputnumber_cjs = __webpack_require__(4719);
;// CONCATENATED MODULE: ./components/ServiceMeshNew/NetworkProfileForm.tsx





const NetworkProfileForm = ({ profile, onChange, title, distributedSwitches = [], networkType })=>{
    const totalNECount = distributedSwitches.reduce((sum, vds)=>sum + vds.ne_count, 0);
    const totalHACount = distributedSwitches.reduce((sum, vds)=>sum + vds.ne_ha_count, 0);
    if (!profile) return null;
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "card col-12",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx("h3", {
                children: title
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "grid",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "field",
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                    className: "font-bold",
                                    children: "Network name"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                    value: profile.network,
                                    onChange: (e)=>onChange({
                                            ...profile,
                                            network: e.target.value
                                        }),
                                    className: "w-full"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "field",
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                    className: "font-bold",
                                    children: "Gateway"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                    value: profile.gateway,
                                    onChange: (e)=>onChange({
                                            ...profile,
                                            gateway: e.target.value
                                        }),
                                    className: "w-full"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "field",
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                    className: "font-bold",
                                    children: "Prefix"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(inputnumber_cjs.InputNumber, {
                                    value: profile.prefix,
                                    onValueChange: (e)=>onChange({
                                            ...profile,
                                            prefix: e.value?.toString() || ""
                                        }),
                                    className: "w-full",
                                    min: 0,
                                    max: 32,
                                    placeholder: "Enter network prefix (0-32)"
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "field",
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                    className: "font-bold",
                                    children: "IP Addresses"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(chips_cjs/* Chips */.c, {
                                    value: profile.ip,
                                    onChange: (e)=>onChange({
                                            ...profile,
                                            ip: e.value
                                        }),
                                    className: "w-full",
                                    placeholder: "Enter IP and press Enter",
                                    allowDuplicate: false,
                                    separator: ","
                                })
                            ]
                        })
                    }),
                    networkType !== "vmotion" && networkType !== "replication" && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                            className: "field",
                            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: "text-gray-500",
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx("p", {
                                        children: "Required IP addresses:"
                                    }),
                                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("ul", {
                                        className: "list-none p-0 m-0",
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx("li", {
                                                children: "• 1 IP for IX"
                                            }),
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("li", {
                                                children: [
                                                    "• ",
                                                    totalNECount,
                                                    " IP",
                                                    totalNECount > 1 ? "s" : "",
                                                    " for NE (",
                                                    totalHACount,
                                                    " HA pairs, ",
                                                    totalNECount - totalHACount,
                                                    " standalone)"
                                                ]
                                            }),
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("li", {
                                                children: [
                                                    "• Total: ",
                                                    totalNECount + 1,
                                                    " required"
                                                ]
                                            }),
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("li", {
                                                className: profile.ip.length >= totalNECount + 1 ? "text-green-500" : "text-red-500",
                                                children: [
                                                    "• ",
                                                    profile.ip.length,
                                                    " IP",
                                                    profile.ip.length !== 1 ? "s" : "",
                                                    " provided"
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            })
                        })
                    }),
                    (networkType === "vmotion" || networkType === "replication") && /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                            className: "field",
                            children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                className: "text-gray-500",
                                children: [
                                    /*#__PURE__*/ jsx_runtime_.jsx("p", {
                                        children: "Required IP addresses:"
                                    }),
                                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("ul", {
                                        className: "list-none p-0 m-0",
                                        children: [
                                            /*#__PURE__*/ jsx_runtime_.jsx("li", {
                                                children: "• 1 IP for IX"
                                            }),
                                            /*#__PURE__*/ jsx_runtime_.jsx("li", {
                                                children: "• Total: 1 required"
                                            }),
                                            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("li", {
                                                className: profile.ip.length >= 1 ? "text-green-500" : "text-red-500",
                                                children: [
                                                    "• ",
                                                    profile.ip.length,
                                                    " IP",
                                                    profile.ip.length !== 1 ? "s" : "",
                                                    " provided"
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            })
                        })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx("div", {
                        className: "col-12 md:col-6",
                        children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "field",
                            children: [
                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                    className: "font-bold",
                                    children: "DNS Servers"
                                }),
                                /*#__PURE__*/ jsx_runtime_.jsx(chips_cjs/* Chips */.c, {
                                    value: profile.dns_servers,
                                    onChange: (e)=>{
                                        const newValue = e.value.slice(0, 2);
                                        onChange({
                                            ...profile,
                                            dns_servers: newValue
                                        });
                                    },
                                    className: "w-full",
                                    placeholder: "Enter DNS server IP and press Enter (max 2)",
                                    allowDuplicate: false,
                                    separator: ",",
                                    max: 2
                                })
                            ]
                        })
                    })
                ]
            })
        ]
    });
};
/* harmony default export */ const ServiceMeshNew_NetworkProfileForm = (NetworkProfileForm);

;// CONCATENATED MODULE: ./components/ServiceMeshNew/NetworkProfileTab.tsx





const NetworkProfileTab = ({ mesh, onMeshChange })=>{
    const networkTypes = [
        {
            label: "Management",
            value: NetworkTypes.MANAGEMENT
        },
        {
            label: "vMotion",
            value: NetworkTypes.VMOTION
        },
        {
            label: "Dedicated",
            value: NetworkTypes.DEDICATED
        }
    ];
    const vmotionTypes = networkTypes.filter((t)=>t.value !== NetworkTypes.VMOTION);
    const replicationTypes = mesh.vmotion_type === NetworkTypes.DEDICATED ? networkTypes : networkTypes.filter((t)=>t.value !== NetworkTypes.VMOTION);
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "grid",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_NetworkProfileForm, {
                title: "Management Network",
                profile: mesh.management,
                onChange: (profile)=>onMeshChange(NetworkProfiles.MANAGEMENT, profile),
                distributedSwitches: mesh.distributed_switches,
                networkType: "management"
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: " card col-12",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h3", {
                        children: "Network Types"
                    }),
                    /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                        className: "grid",
                        children: [
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "col-12 md:col-4",
                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "field",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                            className: "font-bold",
                                            children: "vMotion Type"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(dropdown_cjs.Dropdown, {
                                            value: mesh.vmotion_type || NetworkTypes.MANAGEMENT,
                                            options: vmotionTypes,
                                            onChange: (e)=>onMeshChange("vmotion_type", e.value),
                                            className: "w-full"
                                        })
                                    ]
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "col-12 md:col-4",
                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "field",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                            className: "font-bold",
                                            children: "Replication Type"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(dropdown_cjs.Dropdown, {
                                            value: mesh.replication_type || NetworkTypes.MANAGEMENT,
                                            options: replicationTypes,
                                            onChange: (e)=>onMeshChange("replication_type", e.value),
                                            className: "w-full"
                                        })
                                    ]
                                })
                            }),
                            /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                className: "col-12 md:col-4",
                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "field",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                            className: "font-bold",
                                            children: "Uplink Type"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(dropdown_cjs.Dropdown, {
                                            value: mesh.uplink_type || NetworkTypes.MANAGEMENT,
                                            options: networkTypes.filter((t)=>t.value !== NetworkTypes.VMOTION),
                                            onChange: (e)=>onMeshChange("uplink_type", e.value),
                                            className: "w-full"
                                        })
                                    ]
                                })
                            })
                        ]
                    })
                ]
            }),
            mesh.vmotion_type === NetworkTypes.DEDICATED && /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_NetworkProfileForm, {
                title: "vMotion Network",
                profile: mesh.vmotion,
                onChange: (profile)=>onMeshChange(NetworkProfiles.VMOTION, profile),
                distributedSwitches: mesh.distributed_switches,
                networkType: "vmotion"
            }),
            mesh.replication_type === NetworkTypes.DEDICATED && /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_NetworkProfileForm, {
                title: "Replication Network",
                profile: mesh.replication,
                onChange: (profile)=>onMeshChange(NetworkProfiles.REPLICATION, profile),
                distributedSwitches: mesh.distributed_switches,
                networkType: "replication"
            }),
            mesh.uplink_type === NetworkTypes.DEDICATED && /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_NetworkProfileForm, {
                title: "Uplink Network",
                profile: mesh.uplink,
                onChange: (profile)=>onMeshChange(NetworkProfiles.UPLINK, profile),
                distributedSwitches: mesh.distributed_switches,
                networkType: "uplink"
            })
        ]
    });
};
/* harmony default export */ const ServiceMeshNew_NetworkProfileTab = (NetworkProfileTab);

;// CONCATENATED MODULE: ./components/ServiceMeshNew/DistributedSwitchesTab.tsx









const DistributedSwitchesTab = ({ mesh, onMeshChange })=>{
    const [selectedSwitch, setSelectedSwitch] = (0,react_.useState)(null);
    const [showModal, setShowModal] = (0,react_.useState)(false);
    const [showNetworkModal, setShowNetworkModal] = (0,react_.useState)(false);
    const [selectedNetwork, setSelectedNetwork] = (0,react_.useState)(null);
    const handleEdit = (switchData)=>{
        setSelectedSwitch({
            ...switchData
        });
        setShowModal(true);
    };
    const getAvailableAppliances = ()=>{
        if (!selectedSwitch) return [];
        const usedAppliances = selectedSwitch.extended_network.flat().map((net)=>net.ne_id).filter((id)=>id !== selectedNetwork?.ne_id);
        const totalAppliances = [];
        // Add HA pairs first
        for(let i = 0; i < selectedSwitch.ne_ha_count; i++){
            totalAppliances.push({
                label: `NE ${i + 1} (HA enabled)${usedAppliances.includes(`ne${i + 1}`) ? " - In use" : ""}`,
                value: `ne${i + 1}`
            });
        }
        // Add standalone appliances
        for(let i = selectedSwitch.ne_ha_count; i < selectedSwitch.ne_count; i++){
            totalAppliances.push({
                label: `NE ${i + 1}${usedAppliances.includes(`ne${i + 1}`) ? " - In use" : ""}`,
                value: `ne${i + 1}`
            });
        }
        return totalAppliances;
    };
    const handleAdd = ()=>{
        const newSwitch = {
            name: "",
            ne_count: 1,
            ne_ha_count: 0,
            extended_network: []
        };
        setSelectedSwitch(newSwitch);
        setShowModal(true);
    };
    const handleAddNetwork = ()=>{
        setSelectedNetwork({
            name: "",
            network: "",
            prefix: "",
            gateway: "",
            vlan_id: "",
            ne_id: ""
        });
        setShowNetworkModal(true);
    };
    const handleSave = ()=>{
        if (selectedSwitch && mesh.distributed_switches) {
            const updatedSwitches = [
                ...mesh.distributed_switches
            ];
            const existingIndex = updatedSwitches.findIndex((s)=>s.name === selectedSwitch.name);
            if (existingIndex >= 0) {
                updatedSwitches[existingIndex] = selectedSwitch;
            } else {
                updatedSwitches.push(selectedSwitch);
            }
            onMeshChange("distributed_switches", updatedSwitches);
            setShowModal(false);
            setSelectedSwitch(null);
        }
    };
    const handleModalHide = ()=>{
        setShowModal(false);
        setSelectedSwitch(null);
    };
    const actionBodyTemplate = (rowData)=>{
        return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: "flex gap-2",
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                    icon: "pi pi-pencil",
                    rounded: true,
                    outlined: true,
                    className: "mr-2",
                    onClick: ()=>handleEdit(rowData)
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                    icon: "pi pi-trash",
                    rounded: true,
                    outlined: true,
                    severity: "danger",
                    onClick: ()=>handleDelete(rowData)
                })
            ]
        });
    };
    const handleDelete = (switchData)=>{
        const updatedSwitches = mesh.distributed_switches.filter((ds)=>ds.name !== switchData.name);
        onMeshChange("distributed_switches", updatedSwitches);
    };
    const modalFooter = /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                label: "Cancel",
                icon: "pi pi-times",
                onClick: handleModalHide,
                className: "p-button-text"
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                label: "Save",
                icon: "pi pi-check",
                onClick: handleSave,
                severity: "success"
            })
        ]
    });
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        children: [
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "flex justify-content-between align-items-center mb-4",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h4", {
                        children: "Distributed Switches"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                        label: "Add Switch",
                        icon: "pi pi-plus",
                        severity: "success",
                        rounded: true,
                        onClick: handleAdd,
                        className: " col-12 md:col-6 lg:col-3"
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(datatable_cjs/* DataTable */.w, {
                value: mesh.distributed_switches,
                tableStyle: {
                    minWidth: "50rem"
                },
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        field: "name",
                        header: "Name",
                        sortable: true
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        field: "extended_network",
                        header: "Extended Networks",
                        body: (rowData)=>rowData.extended_network.flat().length
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        header: "Appliances",
                        sortable: true,
                        body: (rowData)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                children: [
                                    rowData.ne_ha_count > 0 && `${rowData.ne_ha_count} HA pairs`,
                                    rowData.ne_ha_count > 0 && rowData.ne_count - rowData.ne_ha_count > 0 && ", ",
                                    rowData.ne_count - rowData.ne_ha_count > 0 && `${rowData.ne_count - rowData.ne_ha_count} standalone`
                                ]
                            })
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        body: actionBodyTemplate,
                        exportable: false,
                        style: {
                            minWidth: "12rem"
                        }
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(dialog_cjs.Dialog, {
                visible: showModal,
                style: {
                    width: "80vw"
                },
                header: selectedSwitch?.name ? "Edit Switch" : "Add Switch",
                modal: true,
                className: "p-fluid",
                footer: modalFooter,
                onHide: handleModalHide,
                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                    className: "grid",
                    children: [
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "col-12 md:col-4",
                            children: [
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "field",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                            htmlFor: "name",
                                            children: "Name"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                            id: "name",
                                            value: selectedSwitch?.name || "",
                                            onChange: (e)=>setSelectedSwitch((prev)=>prev ? {
                                                        ...prev,
                                                        name: e.target.value
                                                    } : null)
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "field",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                            htmlFor: "ne_count",
                                            children: "NE Count"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(inputnumber_cjs.InputNumber, {
                                            id: "ne_count",
                                            value: selectedSwitch?.ne_count || 1,
                                            onValueChange: (e)=>setSelectedSwitch((prev)=>prev ? {
                                                        ...prev,
                                                        ne_count: e.value || 1
                                                    } : null),
                                            min: 1
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "field",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                            htmlFor: "ne_ha_count",
                                            children: "NE HA Count"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(inputnumber_cjs.InputNumber, {
                                            id: "ne_ha_count",
                                            value: selectedSwitch?.ne_ha_count || 0,
                                            onValueChange: (e)=>setSelectedSwitch((prev)=>prev ? {
                                                        ...prev,
                                                        ne_ha_count: Math.min(e.value || 0, prev.ne_count)
                                                    } : null),
                                            min: 0,
                                            max: selectedSwitch?.ne_count || 0
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx("small", {
                                            className: "text-gray-500 block mt-1",
                                            children: `${selectedSwitch?.ne_ha_count || 0} HA pairs, ${(selectedSwitch?.ne_count || 0) - (selectedSwitch?.ne_ha_count || 0)} standalone appliances`
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                            className: "col-12 md:col-8",
                            children: [
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                    className: "flex justify-content-between align-items-center mb-4",
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx("h5", {
                                            className: "m-0",
                                            children: "Extended Networks"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                                            label: "Add network",
                                            icon: "pi pi-plus",
                                            rounded: true,
                                            className: " col-12 md:col-6 lg:col-3",
                                            severity: "success",
                                            onClick: handleAddNetwork
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(dialog_cjs.Dialog, {
                                            visible: showNetworkModal,
                                            style: {
                                                width: "450px"
                                            },
                                            header: "Add Network",
                                            modal: true,
                                            className: "p-fluid",
                                            footer: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                children: [
                                                    /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                                                        label: "Cancel",
                                                        icon: "pi pi-times",
                                                        onClick: ()=>setShowNetworkModal(false),
                                                        className: "p-button-text"
                                                    }),
                                                    /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                                                        label: "Save",
                                                        icon: "pi pi-check",
                                                        onClick: ()=>{
                                                            if (selectedNetwork && selectedSwitch) {
                                                                setSelectedSwitch((prev)=>{
                                                                    if (!prev) return prev;
                                                                    const networks = Array.isArray(prev.extended_network[0]) ? prev.extended_network.flat() : prev.extended_network;
                                                                    const existingIndex = networks.findIndex((net)=>net.name === selectedNetwork.name);
                                                                    if (existingIndex >= 0) {
                                                                        networks[existingIndex] = selectedNetwork;
                                                                    } else {
                                                                        networks.push(selectedNetwork);
                                                                    }
                                                                    return {
                                                                        ...prev,
                                                                        extended_network: networks
                                                                    }; // Store as single array
                                                                });
                                                                setShowNetworkModal(false);
                                                                setSelectedNetwork(null);
                                                            }
                                                        },
                                                        severity: "success"
                                                    })
                                                ]
                                            }),
                                            onHide: ()=>setShowNetworkModal(false),
                                            children: /*#__PURE__*/ jsx_runtime_.jsx("div", {
                                                className: "grid",
                                                children: /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                    className: "col-12",
                                                    children: [
                                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                            className: "field",
                                                            children: [
                                                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                                                    htmlFor: "net_name",
                                                                    children: "Name"
                                                                }),
                                                                /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                                                    id: "net_name",
                                                                    value: selectedNetwork?.name || "",
                                                                    onChange: (e)=>setSelectedNetwork((prev)=>({
                                                                                ...prev,
                                                                                name: e.target.value
                                                                            }))
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                            className: "field",
                                                            children: [
                                                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                                                    htmlFor: "network",
                                                                    children: "Network"
                                                                }),
                                                                /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                                                    id: "network",
                                                                    value: selectedNetwork?.network || "",
                                                                    onChange: (e)=>setSelectedNetwork((prev)=>({
                                                                                ...prev,
                                                                                network: e.target.value
                                                                            }))
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                            className: "field",
                                                            children: [
                                                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                                                    htmlFor: "prefix",
                                                                    children: "Prefix"
                                                                }),
                                                                /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                                                    id: "prefix",
                                                                    value: selectedNetwork?.prefix || "",
                                                                    onChange: (e)=>setSelectedNetwork((prev)=>({
                                                                                ...prev,
                                                                                prefix: e.target.value
                                                                            }))
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                            className: "field",
                                                            children: [
                                                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                                                    htmlFor: "gateway",
                                                                    children: "Gateway"
                                                                }),
                                                                /*#__PURE__*/ jsx_runtime_.jsx(inputtext_cjs.InputText, {
                                                                    id: "gateway",
                                                                    value: selectedNetwork?.gateway || "",
                                                                    onChange: (e)=>setSelectedNetwork((prev)=>({
                                                                                ...prev,
                                                                                gateway: e.target.value
                                                                            }))
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                            className: "field",
                                                            children: [
                                                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                                                    htmlFor: "vlan_id",
                                                                    children: "VLAN ID"
                                                                }),
                                                                /*#__PURE__*/ jsx_runtime_.jsx(inputnumber_cjs.InputNumber, {
                                                                    id: "vlan_id",
                                                                    value: selectedNetwork?.vlan_id || "",
                                                                    onValueChange: (e)=>setSelectedNetwork((prev)=>({
                                                                                ...prev,
                                                                                vlan_id: e.value
                                                                            })),
                                                                    min: 0,
                                                                    max: 4094,
                                                                    useGrouping: false
                                                                })
                                                            ]
                                                        }),
                                                        /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                            className: "field",
                                                            children: [
                                                                /*#__PURE__*/ jsx_runtime_.jsx("label", {
                                                                    htmlFor: "ne_id",
                                                                    children: "NE Appliance"
                                                                }),
                                                                /*#__PURE__*/ jsx_runtime_.jsx(dropdown_cjs.Dropdown, {
                                                                    id: "ne_id",
                                                                    value: selectedNetwork?.ne_id || "",
                                                                    options: getAvailableAppliances(),
                                                                    onChange: (e)=>setSelectedNetwork((prev)=>({
                                                                                ...prev,
                                                                                ne_id: e.value
                                                                            })),
                                                                    placeholder: "Select an appliance"
                                                                })
                                                            ]
                                                        })
                                                    ]
                                                })
                                            })
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0,jsx_runtime_.jsxs)(datatable_cjs/* DataTable */.w, {
                                    value: Array.isArray(selectedSwitch?.extended_network[0]) ? selectedSwitch?.extended_network.flat() : selectedSwitch?.extended_network || [],
                                    tableStyle: {
                                        minWidth: "50rem"
                                    },
                                    children: [
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            field: "name",
                                            header: "Name"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            field: "network",
                                            header: "Network"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            field: "prefix",
                                            header: "Prefix"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            field: "gateway",
                                            header: "Gateway"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            field: "vlan_id",
                                            header: "VLAN ID"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            field: "ne_id",
                                            header: "NE Appliance"
                                        }),
                                        /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                                            body: (rowData)=>/*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                                                    className: "flex gap-2",
                                                    children: [
                                                        /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                                                            icon: "pi pi-pencil",
                                                            rounded: true,
                                                            text: true,
                                                            onClick: ()=>{
                                                                setSelectedNetwork({
                                                                    ...rowData
                                                                });
                                                                setShowNetworkModal(true);
                                                            }
                                                        }),
                                                        /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                                                            icon: "pi pi-trash",
                                                            rounded: true,
                                                            text: true,
                                                            severity: "danger",
                                                            onClick: ()=>{
                                                                setSelectedSwitch((prev)=>{
                                                                    if (!prev) return prev;
                                                                    const networks = Array.isArray(prev.extended_network[0]) ? prev.extended_network.flat() : prev.extended_network;
                                                                    const updatedNetworks = networks.filter((net)=>net !== rowData);
                                                                    return {
                                                                        ...prev,
                                                                        extended_network: updatedNetworks
                                                                    }; // Store as single array
                                                                });
                                                            }
                                                        })
                                                    ]
                                                }),
                                            style: {
                                                width: "8rem"
                                            }
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                })
            })
        ]
    });
};
/* harmony default export */ const ServiceMeshNew_DistributedSwitchesTab = (DistributedSwitchesTab);

;// CONCATENATED MODULE: ./components/ServiceMeshModalNew.tsx





 // Add NetworkTypes import




const ServiceMeshModal = ({ visible, onHide, onSave, editingMesh })=>{
    const [activeIndex, setActiveIndex] = (0,react_.useState)(0);
    const [currentMesh, setCurrentMesh] = (0,react_.useState)({
        id: "",
        name: "",
        vcenter_name: "",
        clusters_services: [],
        clusters_deployments: [],
        storage: [],
        pool: [],
        management: {
            network: "",
            ip: [],
            prefix: "",
            gateway: "",
            dns_servers: []
        },
        vmotion_type: NetworkTypes.MANAGEMENT,
        replication_type: NetworkTypes.MANAGEMENT,
        uplink_type: NetworkTypes.MANAGEMENT,
        vmotion: null,
        replication: null,
        uplink: null,
        distributed_switches: [],
        wo_enabled: false
    });
    (0,react_.useEffect)(()=>{
        if (editingMesh) {
            setCurrentMesh(editingMesh);
        } else {
            // Reset for new service mesh
            setCurrentMesh({
                id: "",
                name: "",
                vcenter_name: "",
                clusters_services: [],
                clusters_deployments: [],
                storage: [],
                pool: [],
                management: {
                    network: "",
                    ip: [],
                    prefix: "",
                    gateway: "",
                    dns_servers: []
                },
                vmotion_type: NetworkTypes.MANAGEMENT,
                replication_type: NetworkTypes.MANAGEMENT,
                uplink_type: NetworkTypes.MANAGEMENT,
                vmotion: null,
                replication: null,
                uplink: null,
                distributed_switches: [],
                wo_enabled: false
            });
        }
    }, [
        editingMesh,
        visible
    ]);
    const handleMeshChange = (field, value)=>{
        setCurrentMesh((prev)=>({
                ...prev,
                [field]: value
            }));
    };
    const handleSave = ()=>{
        if (currentMesh) {
            if (!currentMesh.id) {
                // New service mesh
                currentMesh.id = `mesh_${Date.now()}`;
            }
            onSave(currentMesh);
            onHide();
            setActiveIndex(0);
        }
    };
    const handleCancel = ()=>{
        onHide();
        setActiveIndex(0); // Reset to first tab after cancel
    };
    const footer = /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "flex justify-content-end gap-2",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                label: "Cancel",
                icon: "pi pi-times",
                onClick: handleCancel
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                label: "Save",
                icon: "pi pi-check",
                onClick: handleSave,
                severity: "success"
            })
        ]
    });
    return /*#__PURE__*/ jsx_runtime_.jsx(dialog_cjs.Dialog, {
        visible: visible,
        style: {
            width: "80vw"
        },
        header: editingMesh?.id ? "Edit Service Mesh" : "Add Service Mesh",
        modal: true,
        className: "p-fluid",
        footer: footer,
        onHide: onHide,
        children: currentMesh && /*#__PURE__*/ (0,jsx_runtime_.jsxs)(tabview_cjs/* TabView */.xf, {
            activeIndex: activeIndex,
            onTabChange: (e)=>setActiveIndex(e.index),
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(tabview_cjs/* TabPanel */.x4, {
                    header: "General",
                    children: /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_GeneralTab, {
                        mesh: currentMesh,
                        onMeshChange: handleMeshChange
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(tabview_cjs/* TabPanel */.x4, {
                    header: "HCX Services",
                    children: /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_HCXServicesTab, {
                        mesh: currentMesh,
                        onMeshChange: handleMeshChange
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(tabview_cjs/* TabPanel */.x4, {
                    header: "Distributed Switches",
                    disabled: !currentMesh.ne_enabled,
                    children: /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_DistributedSwitchesTab, {
                        mesh: currentMesh,
                        onMeshChange: handleMeshChange
                    })
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(tabview_cjs/* TabPanel */.x4, {
                    header: "Network Profile",
                    children: /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshNew_NetworkProfileTab, {
                        mesh: currentMesh,
                        onMeshChange: handleMeshChange
                    })
                })
            ]
        })
    });
};
/* harmony default export */ const ServiceMeshModalNew = (ServiceMeshModal);

;// CONCATENATED MODULE: ./app/(main)/hcx/builder/4-service-mesh/page.tsx
/* __next_internal_client_entry_do_not_use__ default auto */ 







const ServiceMeshPage = ()=>{
    const { hcxProject, setHcxProject } = (0,react_.useContext)(project.ProjectContext);
    const [showModal, setShowModal] = (0,react_.useState)(false);
    const [editingMesh, setEditingMesh] = (0,react_.useState)(null);
    const handleEdit = (mesh)=>{
        setEditingMesh(mesh);
        console.log("service mesh to update:");
        console.log(mesh);
        setShowModal(true);
    };
    const handleDelete = (mesh)=>{
        (0,confirmdialog_cjs/* confirmDialog */.VG)({
            message: "Are you sure you want to delete this service mesh?",
            header: "Delete Confirmation",
            icon: "pi pi-exclamation-triangle",
            accept: ()=>{
                if (hcxProject && setHcxProject) {
                    const updatedVCenters = hcxProject.vcenters.map((vc)=>({
                            ...vc,
                            serviceMeshes: vc.serviceMeshes.filter((m)=>m.id !== mesh.id)
                        }));
                    setHcxProject({
                        ...hcxProject,
                        vcenters: updatedVCenters
                    });
                }
            }
        });
    };
    const actionBodyTemplate = (rowData)=>{
        return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
            className: "flex gap-2",
            children: [
                /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                    icon: "pi pi-pencil",
                    rounded: true,
                    outlined: true,
                    className: "mr-2",
                    onClick: ()=>handleEdit(rowData)
                }),
                /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                    icon: "pi pi-trash",
                    rounded: true,
                    outlined: true,
                    severity: "danger",
                    onClick: ()=>handleDelete(rowData)
                })
            ]
        });
    };
    const handleSave = (updatedMesh)=>{
        if (hcxProject && setHcxProject) {
            const meshToSave = {
                ...updatedMesh,
                storage: updatedMesh.storage || [],
                pool: updatedMesh.pool || [],
                clusters_services: updatedMesh.clusters_services || [],
                clusters_deployments: updatedMesh.clusters_deployments || []
            };
            const updatedVCenters = hcxProject.vcenters.map((vc)=>{
                if (vc.vcenter_name === meshToSave.vcenter_name) {
                    const meshes = editingMesh ? vc.serviceMeshes.map((m)=>m.id === meshToSave.id ? meshToSave : m) : [
                        ...vc.serviceMeshes || [],
                        meshToSave
                    ];
                    return {
                        ...vc,
                        serviceMeshes: meshes
                    };
                }
                return vc;
            });
            setHcxProject({
                ...hcxProject,
                vcenters: updatedVCenters
            });
        }
        setShowModal(false);
        setEditingMesh(null);
    };
    return /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
        className: "card",
        children: [
            /*#__PURE__*/ jsx_runtime_.jsx(confirmdialog_cjs/* ConfirmDialog */.QH, {}),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)("div", {
                className: "flex justify-content-between mb-4",
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx("h2", {
                        children: "Service Mesh Configuration"
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(button_cjs.Button, {
                        label: "Add Service Mesh",
                        icon: "pi pi-plus",
                        severity: "success",
                        onClick: ()=>{
                            setEditingMesh(null);
                            setShowModal(true);
                        }
                    })
                ]
            }),
            /*#__PURE__*/ (0,jsx_runtime_.jsxs)(datatable_cjs/* DataTable */.w, {
                value: hcxProject?.vcenters?.flatMap((vc)=>vc.serviceMeshes) || [],
                paginator: true,
                rows: 10,
                rowsPerPageOptions: [
                    5,
                    10,
                    20
                ],
                tableStyle: {
                    minWidth: "50rem"
                },
                children: [
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        field: "name",
                        header: "Name",
                        sortable: true
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        field: "vcenter_name",
                        header: "vCenter",
                        sortable: true
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        field: "clusters_services",
                        header: "Service Clusters",
                        body: (rowData)=>rowData.clusters_services?.join(", ")
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        field: "clusters_deployments",
                        header: "Deployment Clusters",
                        body: (rowData)=>rowData.clusters_deployments?.join(", ")
                    }),
                    /*#__PURE__*/ jsx_runtime_.jsx(column_cjs/* Column */.s, {
                        body: actionBodyTemplate,
                        exportable: false,
                        style: {
                            minWidth: "12rem"
                        }
                    })
                ]
            }),
            /*#__PURE__*/ jsx_runtime_.jsx(ServiceMeshModalNew, {
                visible: showModal,
                onHide: ()=>{
                    setShowModal(false);
                    setEditingMesh(null);
                },
                onSave: handleSave,
                editingMesh: editingMesh
            })
        ]
    });
};
/* harmony default export */ const page = (ServiceMeshPage);


/***/ }),

/***/ 9657:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   $$typeof: () => (/* binding */ $$typeof),
/* harmony export */   __esModule: () => (/* binding */ __esModule),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1313);

const proxy = (0,next_dist_build_webpack_loaders_next_flight_loader_module_proxy__WEBPACK_IMPORTED_MODULE_0__.createProxy)(String.raw`/Users/bravgj/Downloads/hcx-builder/app/(main)/hcx/builder/4-service-mesh/page.tsx`)

// Accessing the __esModule property and exporting $$typeof are required here.
// The __esModule getter forces the proxy target to create the default export
// and the $$typeof value is for rendering logic to determine if the module
// is a client boundary.
const { __esModule, $$typeof } = proxy;
const __default__ = proxy.default;


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__default__);

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, [763,798,973,902,704,903,628,399,987,558,636,483,649,239], () => (__webpack_exec__(291)));
module.exports = __webpack_exports__;

})();