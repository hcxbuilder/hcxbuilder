(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[624],{8026:function(e,s,a){Promise.resolve().then(a.bind(a,4673))},4673:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return _}});var l=a(9268),c=a(6006),r=a(2801),n=a(315),t=a(3702),i=a(845),d=a(8176),o=a(8298),x=a(4390),h=a(7663);function _(){var e,s,a,_,m,v,u,p,f;let{hcxProject:N,setHcxProject:g}=(0,c.useContext)(r.ProjectContext),[j,w]=(0,c.useState)(0),[b,k]=(0,c.useState)({}),[y,C]=(0,c.useState)(!1),[P,E]=(0,c.useState)(null),S=(e,s,a)=>{let l={...b};switch(l[e]||(l[e]={}),s){case"hcx_ip":case"hcx_gateway":if(/^(\d{1,3}\.){3}\d{1,3}$/.test(a)){let c=a.split(".").map(Number),r=c.every(e=>e>=0&&e<=255);r?delete l[e][s]:l[e][s]="IP values must be between 0 and 255"}else l[e][s]="Invalid IP address format";break;case"hcx_network_prefix":/^([0-9]|[1-2][0-9]|3[0-2])$/.test(a)?delete l[e][s]:l[e][s]="Network prefix must be between 0 and 32";break;default:a.trim()?delete l[e][s]:l[e][s]="This field is required"}k(l)},M=(e,s,a)=>{let l=[...N.vcenters||[]];l[e]={...l[e],[s]:a},g({...N,vcenters:l}),"string"==typeof a&&S(e,s,a)},I=(e,s,a)=>{a.length<=2&&M(e,s,a)},R=e=>{E(e),C(!0)},T=()=>{C(!1),E(null)},F=e=>e?(0,l.jsx)("i",{className:"pi pi-check text-green-500"}):(0,l.jsx)("i",{className:"pi pi-times text-red-500"}),H=(0,l.jsxs)("div",{className:"flex justify-content-end gap-2",children:[(0,l.jsx)(t.z,{label:"Cancel",icon:"pi pi-times",onClick:T}),(0,l.jsx)(t.z,{label:"Save",icon:"pi pi-check",onClick:T,severity:"success"})]});return(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"HCX Manager Configuration"}),(0,l.jsxs)(d.w,{value:N.vcenters,tableStyle:{minWidth:"50rem"},paginator:!0,rows:5,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown CurrentPageReport",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords}",children:[(0,l.jsx)(o.s,{field:"vcenter_name",header:"vCenter"}),(0,l.jsx)(o.s,{field:"hcx_manager_name",header:"HCX Manager Name",body:e=>(0,l.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,l.jsx)("span",{children:e.hcx_manager_name||""}),e.hcx_manager_name?(0,l.jsx)("i",{className:"pi pi-check text-green-500"}):(0,l.jsx)("i",{className:"pi pi-times text-red-500"})]})}),(0,l.jsx)(o.s,{field:"hcx_cluster",header:"Cluster",body:e=>(0,l.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,l.jsx)("span",{children:e.hcx_cluster||""}),e.hcx_cluster?(0,l.jsx)("i",{className:"pi pi-check text-green-500"}):(0,l.jsx)("i",{className:"pi pi-times text-red-500"})]})}),(0,l.jsx)(o.s,{field:"hcx_network",header:"Network Configuration",body:e=>{let s=e.hcx_network&&e.hcx_ip&&e.hcx_network_prefix&&e.hcx_gateway;return(0,l.jsxs)("div",{className:"flex flex-column",children:[(0,l.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,l.jsx)("span",{className:"font-semibold",children:e.hcx_network||""}),s?(0,l.jsx)("i",{className:"pi pi-check text-green-500"}):(0,l.jsx)("i",{className:"pi pi-times text-red-500"})]}),s&&(0,l.jsxs)("small",{className:"text-gray-600",children:[e.hcx_ip,"/",e.hcx_network_prefix]})]})}}),(0,l.jsx)(o.s,{field:"hcx_dns_servers",header:"DNS",body:e=>{var s;return F((null===(s=e.hcx_dns_servers)||void 0===s?void 0:s.length)>0)}}),(0,l.jsx)(o.s,{field:"hcx_ntp_servers",header:"NTP",body:e=>{var s;return F((null===(s=e.hcx_ntp_servers)||void 0===s?void 0:s.length)>0)}}),(0,l.jsx)(o.s,{body:(e,s)=>(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(t.z,{icon:"pi pi-pencil",rounded:!0,text:!0,severity:"info",onClick:()=>R(s.rowIndex)})}),header:"Actions",exportable:!1,style:{minWidth:"8rem"}})]}),(0,l.jsx)(x.V,{header:"Edit HCX Manager Configuration",visible:y,style:{width:"80vw"},onHide:T,modal:!0,closable:!0,dismissableMask:!0,footer:H,children:null!==P&&(null===(e=N.vcenters)||void 0===e?void 0:e[P])&&(0,l.jsxs)("div",{className:"grid",children:[(0,l.jsx)("div",{className:"col-12 md:col-12",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_manager_name_".concat(P),className:"font-bold",children:"HCX Manager Name"}),(0,l.jsx)(n.o,{id:"hcx_manager_name_".concat(P),value:N.vcenters[P].hcx_manager_name||"",onChange:e=>M(P,"hcx_manager_name",e.target.value),className:"w-full",placeholder:"Enter HCX Manager Name","aria-describedby":"hcx_manager_name_help_".concat(P)}),(0,l.jsx)("small",{id:"hcx_manager_name_help_".concat(P),className:"text-gray-600",children:"Enter a unique name for the HCX Manager appliance"})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_cluster_".concat(P),className:"font-bold",children:"Deployment Cluster"}),(0,l.jsx)(i.L,{id:"hcx_cluster_".concat(P),value:N.vcenters[P].hcx_cluster,options:N.vcenters[P].vcenter_clusters,onChange:e=>M(P,"hcx_cluster",e.value),className:"w-full",placeholder:"Select a cluster"})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_datastore_".concat(P),className:"font-bold",children:"Datastore"}),(0,l.jsx)(n.o,{id:"hcx_datastore_".concat(P),value:N.vcenters[P].hcx_datastore||"",onChange:e=>M(P,"hcx_datastore",e.target.value),className:"w-full",placeholder:"Enter datastore name"})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_network_".concat(P),className:"font-bold",children:"Network Name"}),(0,l.jsx)(n.o,{id:"hcx_network_".concat(P),value:N.vcenters[P].hcx_network||"",onChange:e=>M(P,"hcx_network",e.target.value),className:"w-full",placeholder:"VM Network"})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_ip_".concat(P),className:"font-bold",children:"IP Address"}),(0,l.jsx)(n.o,{id:"hcx_ip_".concat(P),value:N.vcenters[P].hcx_ip||"",onChange:e=>M(P,"hcx_ip",e.target.value),className:(null===(s=b[P])||void 0===s?void 0:s.ip)?"p-invalid w-full":"w-full",placeholder:"192.168.1.100"})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_network_prefix_".concat(P),className:"font-bold",children:"Network Prefix"}),(0,l.jsx)(n.o,{id:"hcx_network_prefix_".concat(P),value:N.vcenters[P].hcx_network_prefix||"",onChange:e=>M(P,"hcx_network_prefix",e.target.value),className:(null===(a=b[P])||void 0===a?void 0:a.hcx_network_prefix)?"p-invalid w-full":"w-full",placeholder:"24"}),(null===(_=b[P])||void 0===_?void 0:_.hcx_network_prefix)&&(0,l.jsx)("small",{className:"p-error",children:b[P].hcx_network_prefix})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,l.jsx)("label",{htmlFor:"hcx_gateway_".concat(P),className:"font-bold",children:"Gateway"}),(0,l.jsx)(n.o,{id:"hcx_gateway_".concat(P),value:N.vcenters[P].hcx_gateway||"",onChange:e=>M(P,"hcx_gateway",e.target.value),className:(null===(m=b[P])||void 0===m?void 0:m.gateway)?"p-invalid w-full":"w-full",placeholder:"192.168.1.1"})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2 p-fluid",children:[(0,l.jsx)("label",{htmlFor:"hcx_dns_servers_".concat(P),className:"font-bold",children:"DNS Servers (Max 2)"}),(0,l.jsx)(h.c,{id:"hcx_dns_servers_".concat(P),value:N.vcenters[P].hcx_dns_servers||[],onChange:e=>I(P,"hcx_dns_servers",e.value),className:(null===(v=b[P])||void 0===v?void 0:v.hcx_dns_servers)?"p-invalid w-full":"w-full",placeholder:"Enter DNS server and press Enter (Max 2)",separator:",",max:2,"aria-describedby":"hcx_dns_servers_help_".concat(P)}),(0,l.jsx)("small",{id:"hcx_dns_servers_help_".concat(P),className:"text-gray-600",children:"Enter up to 2 DNS server IP addresses (e.g., 8.8.8.8)"}),(null===(u=b[P])||void 0===u?void 0:u.hcx_dns_servers)&&(0,l.jsx)("small",{className:"p-error",children:b[P].hcx_dns_servers})]})})}),(0,l.jsx)("div",{className:"col-12 md:col-6",children:(0,l.jsx)("div",{className:"field",children:(0,l.jsxs)("div",{className:"flex flex-column gap-2 p-fluid",children:[(0,l.jsx)("label",{htmlFor:"hcx_ntp_servers_".concat(P),className:"font-bold",children:"NTP Servers (Max 2)"}),(0,l.jsx)(h.c,{id:"hcx_ntp_servers_".concat(P),value:N.vcenters[P].hcx_ntp_servers||[],onChange:e=>I(P,"hcx_ntp_servers",e.value),className:(null===(p=b[P])||void 0===p?void 0:p.hcx_ntp_servers)?"p-invalid w-full":"w-full",placeholder:"Enter NTP server and press Enter (Max 2)",separator:",",max:2,"aria-describedby":"hcx_ntp_servers_help_".concat(P)}),(0,l.jsx)("small",{id:"hcx_ntp_servers_help_".concat(P),className:"text-gray-600",children:"Enter up to 2 NTP server addresses (e.g., pool.ntp.org)"}),(null===(f=b[P])||void 0===f?void 0:f.hcx_ntp_servers)&&(0,l.jsx)("small",{className:"p-error",children:b[P].hcx_ntp_servers})]})})})]})})]})}},2801:function(e,s,a){"use strict";a.r(s),a.d(s,{ProjectContext:function(){return n},ProjectProvider:function(){return t}});var l=a(9268),c=a(6006),r=a(6539);let n=(0,c.createContext)({hcxProject:{name:""},setHcxProject:()=>{}});function t(e){let{children:s}=e,[a,t]=(0,c.useState)(!1),[i,d]=(0,c.useState)({name:"",vcenters:[{...r.T.VCENTER,serviceMeshes:[{...r.T.SERVICE_MESH}]}]});return(0,c.useEffect)(()=>{t(!0);let e=localStorage.getItem("hcxProject");e&&d(JSON.parse(e))},[]),(0,c.useEffect)(()=>{a&&localStorage.setItem("hcxProject",JSON.stringify(i))},[i,a]),(0,l.jsx)(n.Provider,{value:{hcxProject:i,setHcxProject:d},children:s})}},6539:function(e,s,a){"use strict";a.d(s,{E:function(){return c},T:function(){return l}});let l={VCENTER:{vcenter_name:"",vcenter_sso_url:"",vcenter_version:"",vcenter_url:"",vcenter_clusters:[],hcx_manager_name:"",hcx_cluster:"",hcx_datastore:"",hcx_resource_pool:"",hcx_ip:"",hcx_network:"",hcx_network_prefix:"",hcx_gateway:"",hcx_dns_servers:[],hcx_ntp_servers:[],serviceMeshes:[]},SERVICE_MESH:{name:"",vcenter_name:"",clusters_services:[],clusters_deployments:[],storage:[],pool:[],management:{network:"",ip:[],prefix:"",gateway:"",dns_servers:[]},vmotion_type:"management",replication_type:"management",uplink_type:"management",vMotion:null,replication:null,uplink:null,distributed_switches:[],wo_enabled:!1}},c={IP_ADDRESS:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,URL:/^https?:\/\/.+/,VERSION:/^\d+\.\d+(\.\d+)?$/,NETWORK_PREFIX:/^([1-9]|[1-2][0-9]|3[0-2])$/}}},function(e){e.O(0,[123,434,347,702,562,346,516,728,253,769,744],function(){return e(e.s=8026)}),_N_E=e.O()}]);