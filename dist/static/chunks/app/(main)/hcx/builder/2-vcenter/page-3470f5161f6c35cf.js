(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[774],{611:function(e,t,r){Promise.resolve().then(r.bind(r,634))},634:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(9268),l=r(6006),c=r(2801),s=r(315),i=r(7932),a=r(3702),o=r(6539),u=r(7663),d=r(4390),v=r(8176),f=r(8298);function m(){var e,t,r,m,p,g,h,x,b,j,_,y,N,C;let{hcxProject:S,setHcxProject:E}=(0,l.useContext)(c.ProjectContext),[w,P]=(0,l.useState)({}),[O,k]=(0,l.useState)(!0),[R,I]=(0,l.useState)(!1),[T,L]=(0,l.useState)(!1),[V,A]=(0,l.useState)(null),F=(e,t,r)=>{let n={...w};switch(n[e]||(n[e]={}),t){case"vcenter_url":case"vcenter_sso_url":o.E.URL.test(r)?delete n[e][t]:n[e][t]="Invalid URL format";break;case"vcenter_version":o.E.VERSION.test(r)?delete n[e][t]:n[e][t]="Invalid version format (e.g., 8.0 or 8.0.0)";break;default:r.trim()?delete n[e][t]:n[e][t]="This field is required"}P(n)},M=(e,t,r)=>{let n=[...S.vcenters||[]];n[e]||(n[e]={...o.T.VCENTER}),n[e]={...n[e],[t]:r},E({...S,vcenters:n}),"string"==typeof r&&F(e,t,r)},z=e=>e?(0,n.jsx)("i",{className:"pi pi-check text-green-500"}):(0,n.jsx)("i",{className:"pi pi-times text-red-500"}),K=e=>{A(e),L(!0)};(0,l.useEffect)(()=>{let e="true"===localStorage.getItem("vcenter-info-hidden");k(!e)},[]);let D=e=>{(0,i.V)({message:"Are you sure you want to remove this vCenter configuration?",header:"Confirm Removal",icon:"pi pi-exclamation-triangle",accept:()=>{var t;let r=null===(t=S.vcenters)||void 0===t?void 0:t.filter((t,r)=>r!==e);E({...S,vcenters:r})}})},H=()=>{if(null!==V){var e,t;let r=null===(e=S.vcenters)||void 0===e?void 0:e[V];if(!(null==r?void 0:r.vcenter_name)){let e=null===(t=S.vcenters)||void 0===t?void 0:t.filter((e,t)=>t!==V);E({...S,vcenters:e})}}L(!1),A(null)},J=(0,n.jsxs)("div",{className:"flex justify-content-end gap-2",children:[(0,n.jsx)(a.z,{label:"Cancel",icon:"pi pi-times",onClick:H}),(0,n.jsx)(a.z,{label:"Save",icon:"pi pi-check",onClick:H,severity:"success"})]});return(0,n.jsxs)("div",{children:[(0,n.jsx)(i.Q,{}),(0,n.jsxs)("div",{className:"flex justify-content-between align-items-center mb-3",children:[(0,n.jsxs)("div",{className:"flex align-items-center gap-2",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold m-0",children:"vCenter Configuration"}),(0,n.jsx)(a.z,{icon:"pi pi-question-circle",onClick:()=>k(!0),text:!0,rounded:!0,tooltip:"Show configuration help"})]}),(0,n.jsx)(a.z,{icon:"pi pi-plus",label:"Add vCenter",onClick:()=>{let e={...o.T.VCENTER},t=[...S.vcenters||[],e];E({...S,vcenters:t}),K(t.length-1)},severity:"success",rounded:!0})]}),(0,n.jsxs)(v.w,{value:S.vcenters,tableStyle:{minWidth:"50rem"},paginator:!0,rows:5,rowsPerPageOptions:[5],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport",currentPageReportTemplate:"{first} to {last} of {totalRecords}",children:[(0,n.jsx)(f.s,{field:"vcenter_name",header:"Name"}),(0,n.jsx)(f.s,{field:"vcenter_url",header:"URL Status",body:e=>z(e.vcenter_url)}),(0,n.jsx)(f.s,{field:"vcenter_sso_url",header:"SSO Status",body:e=>z(e.vcenter_sso_url)}),(0,n.jsx)(f.s,{field:"vcenter_version",header:"vSphere Version"}),(0,n.jsx)(f.s,{field:"vcenter_clusters",header:"Configured Clusters",body:e=>{var t;return(null===(t=e.vcenter_clusters)||void 0===t?void 0:t.length)||0}}),(0,n.jsx)(f.s,{body:(e,t)=>(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(a.z,{icon:"pi pi-pencil",rounded:!0,text:!0,severity:"info",onClick:()=>K(t.rowIndex)}),(0,n.jsx)(a.z,{icon:"pi pi-trash",rounded:!0,text:!0,severity:"danger",onClick:()=>D(t.rowIndex)})]}),header:"Actions",exportable:!1,style:{minWidth:"12rem"}})]}),(0,n.jsx)(d.V,{header:"Edit vCenter Configuration",visible:T,style:{width:"50vw"},onHide:H,modal:!0,closable:!0,dismissableMask:!0,footer:J,children:null!==V&&(null===(e=S.vcenters)||void 0===e?void 0:e[V])&&(0,n.jsxs)("div",{className:"grid",children:[(0,n.jsx)("div",{className:"col-12 md:col-6",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,n.jsx)("label",{htmlFor:"vcenter_name",className:"font-bold",children:"vCenter Name"}),(0,n.jsx)(s.o,{id:"vcenter_name",value:(null===(t=S.vcenters[V])||void 0===t?void 0:t.vcenter_name)||"",onChange:e=>M(V,"vcenter_name",e.target.value),className:(null===(r=w[V])||void 0===r?void 0:r.vcenter_name)?"p-invalid w-full":"w-full"}),(null===(m=w[V])||void 0===m?void 0:m.vcenter_name)&&(0,n.jsx)("small",{className:"p-error",children:w[V].vcenter_name})]})})}),(0,n.jsx)("div",{className:"col-12 md:col-6",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,n.jsx)("label",{htmlFor:"vcenter_url",className:"font-bold",children:"vCenter URL"}),(0,n.jsx)(s.o,{id:"vcenter_url",value:(null===(p=S.vcenters[V])||void 0===p?void 0:p.vcenter_url)||"",onChange:e=>M(V,"vcenter_url",e.target.value),className:(null===(g=w[V])||void 0===g?void 0:g.vcenter_url)?"p-invalid w-full":"w-full",placeholder:"https://vcenter.example.com"}),(null===(h=w[V])||void 0===h?void 0:h.vcenter_url)&&(0,n.jsx)("small",{className:"p-error",children:w[V].vcenter_url})]})})}),(0,n.jsx)("div",{className:"col-12 md:col-6",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,n.jsx)("label",{htmlFor:"vcenter_sso_url",className:"font-bold",children:"SSO URL"}),(0,n.jsx)(s.o,{id:"vcenter_sso_url",value:(null===(x=S.vcenters[V])||void 0===x?void 0:x.vcenter_sso_url)||"",onChange:e=>M(V,"vcenter_sso_url",e.target.value),className:(null===(b=w[V])||void 0===b?void 0:b.vcenter_sso_url)?"p-invalid w-full":"w-full",placeholder:"https://sso.example.com"}),(null===(j=w[V])||void 0===j?void 0:j.vcenter_sso_url)&&(0,n.jsx)("small",{className:"p-error",children:w[V].vcenter_sso_url})]})})}),(0,n.jsx)("div",{className:"col-12 md:col-6",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("div",{className:"flex flex-column gap-2",children:[(0,n.jsx)("label",{htmlFor:"vcenter_version",className:"font-bold",children:"Version"}),(0,n.jsx)(s.o,{id:"vcenter_version",value:(null===(_=S.vcenters[V])||void 0===_?void 0:_.vcenter_version)||"",onChange:e=>M(V,"vcenter_version",e.target.value),className:(null===(y=w[V])||void 0===y?void 0:y.vcenter_version)?"p-invalid w-full":"w-full",placeholder:"8.0.0"}),(null===(N=w[V])||void 0===N?void 0:N.vcenter_version)&&(0,n.jsx)("small",{className:"p-error",children:w[V].vcenter_version})]})})}),(0,n.jsx)("div",{className:"col-12",children:(0,n.jsx)("div",{className:"field",children:(0,n.jsxs)("div",{className:"flex flex-column gap-2 p-fluid",children:[(0,n.jsx)("label",{htmlFor:"vcenter_clusters",className:"font-bold",children:"Clusters"}),(0,n.jsx)(u.c,{id:"vcenter_clusters",value:(null===(C=S.vcenters[V])||void 0===C?void 0:C.vcenter_clusters)||[],onChange:e=>M(V,"vcenter_clusters",e.value),className:"w-full",placeholder:"Type and press Enter to add clusters"})]})})})]})})]})}},2801:function(e,t,r){"use strict";r.r(t),r.d(t,{ProjectContext:function(){return s},ProjectProvider:function(){return i}});var n=r(9268),l=r(6006),c=r(6539);let s=(0,l.createContext)({hcxProject:{name:""},setHcxProject:()=>{}});function i(e){let{children:t}=e,[r,i]=(0,l.useState)(!1),[a,o]=(0,l.useState)({name:"",vcenters:[{...c.T.VCENTER,serviceMeshes:[{...c.T.SERVICE_MESH}]}]});return(0,l.useEffect)(()=>{i(!0);let e=localStorage.getItem("hcxProject");e&&o(JSON.parse(e))},[]),(0,l.useEffect)(()=>{r&&localStorage.setItem("hcxProject",JSON.stringify(a))},[a,r]),(0,n.jsx)(s.Provider,{value:{hcxProject:a,setHcxProject:o},children:t})}},6539:function(e,t,r){"use strict";r.d(t,{E:function(){return l},T:function(){return n}});let n={VCENTER:{vcenter_name:"",vcenter_sso_url:"",vcenter_version:"",vcenter_url:"",vcenter_clusters:[],hcx_manager_name:"",hcx_cluster:"",hcx_datastore:"",hcx_resource_pool:"",hcx_ip:"",hcx_network:"",hcx_network_prefix:"",hcx_gateway:"",hcx_dns_servers:[],hcx_ntp_servers:[],serviceMeshes:[]},SERVICE_MESH:{name:"",vcenter_name:"",clusters_services:[],clusters_deployments:[],storage:[],pool:[],management:{network:"",ip:[],prefix:"",gateway:"",dns_servers:[]},vmotion_type:"management",replication_type:"management",uplink_type:"management",vMotion:null,replication:null,uplink:null,distributed_switches:[],wo_enabled:!1}},l={IP_ADDRESS:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,URL:/^https?:\/\/.+/,VERSION:/^\d+\.\d+(\.\d+)?$/,NETWORK_PREFIX:/^([1-9]|[1-2][0-9]|3[0-2])$/}},7932:function(e,t,r){"use strict";r.d(t,{Q:function(){return b},V:function(){return x}});var n=r(6006),l=r(3142),c=r(3702),s=r(4390),i=r(465),a=r(4417),o=r(6020),u=r(5942);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,l,c,s,i=[],a=!0,o=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;a=!1}else for(;!(a=(n=c.call(r)).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(e){o=!0,l=e}finally{try{if(!a&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(o)throw l}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=r(6878).V.extend({defaultProps:{__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null,children:void 0},css:{classes:{root:"p-confirm-dialog",message:"p-confirm-dialog-message",icon:"p-confirm-dialog-icon",acceptButton:"p-confirm-dialog-accept",rejectButton:function(e){var t=e.getPropValue;return(0,u.AK)("p-confirm-dialog-reject",{"p-button-text":!t("rejectClassName")})}}}});function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){!function(e,t,r){var n;n=function(e,t){if("object"!==m(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==m(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===m(n)?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=h(h({},e),{visible:void 0===e.visible||e.visible})).visible&&a.F.emit("confirm-dialog",e),{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.F.emit("confirm-dialog",h(h(h({},e),t),{visible:!0}))},hide:function(){a.F.emit("confirm-dialog",{visible:!1})}}},b=n.memo(n.forwardRef(function(e,t){var r,v,m,g,x,b,j,_=n.useContext(l.Ou),y=p.getProps(e,_),N=f(n.useState(y.visible),2),C=N[0],S=N[1],E=f(n.useState(!1),2),w=E[0],P=E[1],O=n.useRef(null),k=n.useRef(!1),R=n.useRef(null),I=function(){return O.current||y},T=function(e){return(O.current||y)[e]},L=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return u.gb.getPropValue(T(e),r)},V=T("acceptLabel")||(0,l.qJ)("accept"),A=T("rejectLabel")||(0,l.qJ)("reject"),F={props:y,state:{visible:C}},M=p.setMetaData(F),z=M.ptm,K=M.cx,D=function(){k.current||(k.current=!0,L("accept"),U("accept"))},H=function(){k.current||(k.current=!0,L("reject"),U("reject"))},J=function(){S(!0),k.current=!1,R.current=document.activeElement},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel";S(!1),L("onHide",{result:e}),u.p7.focus(R.current),R.current=null},B=function(e){if(e.tagKey===y.tagKey){var t=C!==e.visible;T("target")===e.target||y.target?t&&(O.current=e,e.visible?J():U()):(U(),O.current=e,P(!0))}};n.useEffect(function(){y.visible?J():U()},[y.visible]),n.useEffect(function(){return y.target||y.message||a.F.on("confirm-dialog",B),function(){a.F.off("confirm-dialog",B)}},[y.target]),(0,i.rf)(function(){w&&J()},[w]),(0,i.zq)(function(){a.F.off("confirm-dialog",B)}),n.useImperativeHandle(t,function(){return{props:y,confirm:B}});var q=(r=I(),v=u.gb.getJSXElement(T("message"),r),m=(0,u.dG)({className:K("icon")},z("icon")),g=u.Cz.getJSXIcon(T("icon"),h({},m),{props:r}),x=function(){var e=(0,u.AK)("p-confirm-dialog-accept",T("acceptClassName")),t=(0,u.AK)("p-confirm-dialog-reject",{"p-button-text":!T("rejectClassName")},T("rejectClassName")),r={label:A,icon:T("rejectIcon"),className:(0,u.AK)(T("rejectClassName"),K("rejectButton",{getPropValue:T})),onClick:H,pt:z("rejectButton"),unstyled:y.unstyled,__parentMetadata:{parent:F}},l=(0,u.dG)({label:V,icon:T("acceptIcon"),className:(0,u.AK)(T("acceptClassName"),K("acceptButton")),onClick:D,unstyled:y.unstyled,__parentMetadata:{parent:F}},z("acceptButton")),s=n.createElement(n.Fragment,null,n.createElement(c.z,r),n.createElement(c.z,d({},l,{autoFocus:!0})));if(T("footer")){var i={accept:D,reject:H,acceptClassName:e,rejectClassName:t,acceptLabel:V,rejectLabel:A,element:s,props:I()};return u.gb.getJSXElement(T("footer"),i)}return s}(),b=(0,u.dG)({className:K("message")},z("message")),j=(0,u.dG)({visible:C,className:(0,u.AK)(T("className"),K("root")),footer:x,onHide:U,breakpoints:T("breakpoints"),pt:r.pt,unstyled:y.unstyled,appendTo:T("appendTo"),__parentMetadata:{parent:F}},p.getOtherProps(r)),n.createElement(s.V,j,g,n.createElement("span",b,v)));return n.createElement(o.h,{element:q,appendTo:T("appendTo")})}));b.displayName="ConfirmDialog"}},function(e){e.O(0,[123,434,347,702,562,346,516,728,253,769,744],function(){return e(e.s=611)}),_N_E=e.O()}]);